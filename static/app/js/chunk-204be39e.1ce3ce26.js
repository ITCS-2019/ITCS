(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-204be39e"],{"0a49":function(t,e,i){var n=i("9b43"),a=i("626a"),o=i("4bf8"),c=i("9def"),l=i("cd1c");t.exports=function(t,e){var i=1==t,r=2==t,d=3==t,s=4==t,u=6==t,p=5==t||u,f=e||l;return function(e,l,g){for(var v,w,b=o(e),m=a(b),h=n(l,g,3),_=c(m.length),C=0,x=i?f(e,_):r?f(e,0):void 0;_>C;C++)if((p||C in m)&&(v=m[C],w=h(v,C,b),t))if(i)x[C]=w;else if(w)switch(t){case 3:return!0;case 5:return v;case 6:return C;case 2:x.push(v)}else if(s)return!1;return u?-1:d||s?s:x}}},7514:function(t,e,i){"use strict";var n=i("5ca1"),a=i("0a49")(5),o="find",c=!0;o in[]&&Array(1)[o](function(){c=!1}),n(n.P+n.F*c,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(o)},ba99:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":"","pt-0":""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-flex",{attrs:{md12:""}},[i("material-card",[i("DxGrid",{ref:"directionsGrid",attrs:{tableConfig:t.tableConfig}})],1)],1)],1)],1)},a=[],o=(i("ac6a"),i("bd86")),c=(i("a481"),i("7514"),{data:function(){var t;return{dataSource:[],tableConfig:(t={dataSource:[],allowColumnReordering:!1,allowColumnResizing:!0,columnAutoWidth:!1,showBorders:!0,showRowLines:!0,paging:{enabled:!0,pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[10,20,50,100],showInfo:!0,visible:!0},searchPanel:{visible:!0,width:240,placeholder:"Шукати..."},export:{enabled:!1,fileName:"certificates",allowExportSelectedData:!0},headerFilter:{visible:!0},filterRow:{visible:!0,applyFilter:"auto"},hoverStateEnabled:!0,wordWrapEnabled:!0},Object(o["a"])(t,"columnAutoWidth",!0),Object(o["a"])(t,"rowAlternationEnabled",!0),Object(o["a"])(t,"onSelectionChanged",function(t){var e=t.component,i="multiple"===e._options.selection.mode?", Вибрано: ".concat(e.getSelectedRowKeys().length):"";e.option("pager.infoText","Всього: ".concat(certsGrid.option("dataSource").length).concat(i))}),Object(o["a"])(t,"onCellClick",function(t){switch(t.column.dataField){case"status":var e=t.component,i=0===~~t.data.status?1:0;axios.get("/mariner/api/changeTrainigDirectionStatus/",{params:{certID:t.data.id,dirStatus:i}}).then(function(n){var a=e.option("dataSource");a.some(function(e){~~e.id===~~t.data.id&&(e.status=i)}),e.option("dataSource",a)}).catch(function(t){console.log(t)});break}}),Object(o["a"])(t,"onContentReady",function(t){function e(e){t.component.pageIndex(e)}var i=$(".custom-pagination.custom-pagination--certificates"),n=$(".custom-pagination__select",i),a=t.component.pageCount(),o=t.component.pageIndex(),c=$(".custom-pagination__btn--first-page",i),l=$(".custom-pagination__btn--last-page",i),r=$(".custom-pagination__btn--next",i),d=$(".custom-pagination__btn--prev",i),s=t.element.find(".dx-toolbar-items-container").length>0?t.element.find(".dx-datagrid-header-panel .dx-toolbar-items-container"):t.element.find(".dx-datagrid-header-panel"),u=$(".custom-pagination.custom-pagination--certificates",s);if(a>1){n.empty();for(var p=0;p<a;p++)p===o?n.append('<option selected="selected" value="'.concat(p,'">').concat(p+1,"</option>>")):n.append('<option value="'.concat(p,'">').concat(p+1,"</option>>"));u.remove(),s.append(i),0===o?(c.attr("disabled",!0),d.attr("disabled",!0)):(c.attr("disabled",!1),d.attr("disabled",!1)),o+1===a?(l.attr("disabled",!0),r.attr("disabled",!0)):(l.attr("disabled",!1),r.attr("disabled",!1)),n.on("change",function(){e($(this).val(),a)}),c.on("click",function(){e(0,a)}),l.on("click",function(){e(a-1)}),r.on("click",function(){e(o+1)}),d.on("click",function(){e(o-1)}),i.fadeIn("fast")}}),Object(o["a"])(t,"columns",[{dataField:"id",visible:!1},{dataField:"price_id",caption:"Код",allowEditing:!1,allowFiltering:!0,sortOrder:"asc",alignment:"left"},{dataField:"direction_title",caption:"Напрямок підготовки",allowEditing:!1,allowFiltering:!0},{dataField:"direction_reviewCertCount",caption:"В обробцi",allowEditing:!1,allowFiltering:!0,alignment:"left",visible:"НТЗ"===gUserRole},{dataField:"direction_issuedCertCount",caption:"Видано",allowEditing:!1,allowFiltering:!0,alignment:"left",visible:"НТЗ"===gUserRole},{dataField:"direction_reviewAndIssuedCertsCount",caption:"Всього",allowEditing:!1,allowFiltering:!0,alignment:"left",visible:"НТЗ"===gUserRole},{dataField:"allow_functions",caption:"Рівень функцій",allowEditing:!1,allowFiltering:!0},{dataField:"level",caption:"Рівень кваліфікації",allowEditing:!1,allowFiltering:!0},{dataField:"status",caption:"Статус",allowEditing:!1,allowFiltering:!1,cssClass:"center-vertical",alignment:"left",cellTemplate:function(t,e){t.append('<div style="text-align: center; color: green;">\n                                '.concat(0===~~e.value?"&#10004;":"&#x274C;","\n                            </div>"))}},{type:"buttons",width:110,visible:"НТЗ"!==gUserRole,cssClass:"center-vertical",buttons:[{hint:"Редагувати",icon:"edit",onClick:function(t){window.location.replace("/mariner/editDirection/".concat(t.row.data.id))}}]}]),t)}},mounted:function(){var t=this;axios.get("/mariner/api/directionsInfo/").then(function(e){var i=e.data.trainigDirections;i.forEach(function(e){t.dataSource.push({id:e.direction_id,price_id:e.price_id,direction_title:"НТЗ"===gUserRole?e.dirction_name:e.direction_title,direction_reviewCertCount:e.direction_reviewCertCount,direction_issuedCertCount:e.direction_issuedCertCount,direction_reviewAndIssuedCertsCount:e.direction_reviewAndIssuedCertsCount,allow_functions:e.allow_functions,level:e.level,status:e.status})});var n=t.$refs.directionsGrid.tableInstance,a="multiple"===n._options.selection.mode?", Вибрано: ".concat(n.getSelectedRowKeys().length):"";n.option("dataSource",t.dataSource),n.option("pager.infoText","Всього: ".concat(n.option("dataSource").length).concat(a)),n.endCustomLoading()}).catch(function(t){console.log(t)})}}),l=c,r=i("2877"),d=Object(r["a"])(l,n,a,!1,null,null,null);e["default"]=d.exports},cd1c:function(t,e,i){var n=i("e853");t.exports=function(t,e){return new(n(t))(e)}},e853:function(t,e,i){var n=i("d3f4"),a=i("1169"),o=i("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),n(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-204be39e.1ce3ce26.js.map